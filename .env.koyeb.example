# Koyeb Free Tier Environment Variables
# Copy these to your Koyeb dashboard when deploying

# CRITICAL: Set this in Koyeb Secrets (not as plain env var)
OPENAI_API_KEY=your_openai_api_key_here

# Application Settings
APP_ENV=production
DEBUG=false

# OpenAI Models
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# CORS Origins (update with your frontend domain)
ALLOWED_ORIGINS=https://deepanshu-malik.github.io,http://localhost:3000

# ChromaDB Configuration
CHROMA_PERSIST_DIRECTORY=./chromadb
CHROMA_COLLECTION_NAME=portfolio

# Rate Limiting (reduced for free tier)
RATE_LIMIT_REQUESTS=5
RATE_LIMIT_WINDOW=60

# Memory Optimization (Koyeb free tier = 512MB RAM)
MAX_CONCURRENT_REQUESTS=3
REQUEST_TIMEOUT=30
MAX_HISTORY_LENGTH=5

# Response Caching
CACHE_TTL=1800
CACHE_MAX_SIZE=100
CACHE_ENABLED=true

# Token Usage Optimization (cost savings)
MAX_TOKENS_CONTEXT=2000
MAX_TOKENS_HISTORY=500
MAX_TOKENS_RESPONSE=600
MAX_RETRIEVAL_DOCS=3

# Deployment Instructions:
# 1. Go to Koyeb Dashboard
# 2. Create New Service -> Web Service
# 3. Connect GitHub repository
# 4. Set environment variables above
# 5. Create secret for OPENAI_API_KEY
# 6. Deploy!
#
# Health Check Path: /api/health
# Readiness Check Path: /api/ready
#
# Optional: Set up keep-alive ping
# - Use cron-job.org to ping /api/ping every 14 minutes
# - Prevents cold starts and keeps app responsive
